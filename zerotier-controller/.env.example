# =============================================================================
# GLOBAL SETTINGS
# =============================================================================

# Timezone used inside the containers
TZ=America/Los_Angeles

# Filesystem ownership for persisted data volumes
PUID=999
PGID=994

# =============================================================================
# POSTGRES CONFIGURATION (ZTNET BACKEND)
# =============================================================================

POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=ztnet

# =============================================================================
# ZEROTIER CONTROLLER CONFIGURATION
# =============================================================================

# Allow management API requests from these CIDRs. Use spaces to separate entries.
ZT_ALLOW_MANAGEMENT_FROM=127.0.0.1/8 172.16.0.0/12 192.168.0.0/16

# Override local.conf so the embedded controller settings from ztNET take effect.
ZT_OVERRIDE_LOCAL_CONF=true

# Controller endpoint and secret as seen from the ztNET container.
ZT_ADDR=http://zerotier-controller:9993

# IMPORTANT: Get this from the zerotier-controller container after first launch
# Run: docker exec zerotier-controller cat /var/lib/zerotier-one/authtoken.secret
ZT_SECRET=

# =============================================================================
# ZTNET APPLICATION SETTINGS
# =============================================================================

# Public URL where ztNET will be accessible
NEXTAUTH_URL=https://ztnet.example.com

# Internal URL for container-to-container communication
NEXTAUTH_URL_INTERNAL=http://ztnet:3000

# Generate a random secret for NextAuth (required)
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=

# Port ztNET listens on
PORT=3000

# =============================================================================
# COREDNS AUTO-DISCOVERY SETTINGS
# =============================================================================

# IMPORTANT: Get this from your ZTNet user account after creating it
# Go to: User Settings → API Keys → Generate API Key
ZEROTIER_API_KEY=

# Network ID to auto-discover members for DNS (same as your ZT network)
# Get this after creating a network in ZTNet web UI
NETWORK_ID=

# ZTNet URL for CoreDNS to query (internal container-to-container)
ZTNET_URL=http://ztnet:3000
